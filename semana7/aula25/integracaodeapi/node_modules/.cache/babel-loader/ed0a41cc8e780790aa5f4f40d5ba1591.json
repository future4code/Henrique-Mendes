{"ast":null,"code":"import _classCallCheck from\"C:\\\\Git-F4\\\\Henrique-Mendes\\\\semana7\\\\aula25\\\\integracaodeapi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Git-F4\\\\Henrique-Mendes\\\\semana7\\\\aula25\\\\integracaodeapi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Git-F4\\\\Henrique-Mendes\\\\semana7\\\\aula25\\\\integracaodeapi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Git-F4\\\\Henrique-Mendes\\\\semana7\\\\aula25\\\\integracaodeapi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Git-F4\\\\Henrique-Mendes\\\\semana7\\\\aula25\\\\integracaodeapi\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import axios from'axios';import ItemListaDeUsuario from'./ItemListaDeUsuario';import{render}from'@testing-library/react';var baseUrl=\"https://us-central1-future4-users.cloudfunctions.net/api\";var mockListaDeUsuarios=[{id:'1',name:\"Henrique\"},{id:'2',name:\"Joao\"}];var ListaDeUsuario=/*#__PURE__*/function(_React$Component){_inherits(ListaDeUsuario,_React$Component);function ListaDeUsuario(props){var _this;_classCallCheck(this,ListaDeUsuario);_this=_possibleConstructorReturn(this,_getPrototypeOf(ListaDeUsuario).call(this,props));_this.buscarListaDeUsuarios=function(){var listaDeUsuariosPromessa=axios.get(\"\".concat(baseUrl,\"/users/getAllUsers\"),{headers:{'api-token':'Henrique'}});listaDeUsuariosPromessa.then(function(response){var listaDeUsuarios=response.data.result;_this.setState({listaDeUsuarios:listaDeUsuarios});}).catch(function(error){alert(\"Nao conseguimos pegar a lista de usuarios.\");});};_this.apagarUsuario=function(idDoUsuario){var promessaApagarUsuario=axios.delete(\"&{baseUrl}/users/deleteUser?id=&{idDoUsuario}\",{headers:{'api-token':\"Henrique\"}});promessaApagarUsuario.then(function(response){alert(\"usuario apagado\");_this.buscarListaDeUsuarios();}).catch(function(error){alert(\"Erro ao apagar\");});};_this.state={listaDeUsuarios:[]};return _this;}_createClass(ListaDeUsuario,[{key:\"componentDidMount\",value:function componentDidMount(){this.buscarListaDeUsuarios();}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"ul\",null,this.state.listaDeUsuarios.map(function(usuario){return React.createElement(ItemListaDeUsuario,null,usuario.name,React.createElement(\"span\",{onClick:function onClick(){return _this2.apagarUsuario(usuario.id);}},\"X\"));}));}}]);return ListaDeUsuario;}(React.Component);export default ListaDeUsuario;","map":{"version":3,"sources":["C:/Git-F4/Henrique-Mendes/semana7/aula25/integracaodeapi/src/Components/ListaDeUsuario.js"],"names":["React","axios","ItemListaDeUsuario","render","baseUrl","mockListaDeUsuarios","id","name","ListaDeUsuario","props","buscarListaDeUsuarios","listaDeUsuariosPromessa","get","headers","then","response","listaDeUsuarios","data","result","setState","catch","error","alert","apagarUsuario","idDoUsuario","promessaApagarUsuario","delete","state","map","usuario","Component"],"mappings":"6uBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,OAASC,MAAT,KAAuB,wBAAvB,CAEA,GAAMC,CAAAA,OAAO,CAAG,0DAAhB,CAEA,GAAMC,CAAAA,mBAAmB,CAAG,CAAC,CAC3BC,EAAE,CAAC,GADwB,CAE3BC,IAAI,CAAC,UAFsB,CAAD,CAI5B,CACED,EAAE,CAAC,GADL,CAEEC,IAAI,CAAC,MAFP,CAJ4B,CAA5B,C,GAWMC,CAAAA,c,oFACJ,wBAAYC,KAAZ,CAAkB,gDAChB,gFAAMA,KAAN,GADgB,MAOlBC,qBAPkB,CAOM,UAAM,CAC5B,GAAMC,CAAAA,uBAAuB,CAAGV,KAAK,CAACW,GAAN,WAAaR,OAAb,uBAA0C,CACxES,OAAO,CAAE,CACP,YAAa,UADN,CAD+D,CAA1C,CAAhC,CAMAF,uBAAuB,CAACG,IAAxB,CAA6B,SAAAC,QAAQ,CAAI,CACvC,GAAMC,CAAAA,eAAe,CAAGD,QAAQ,CAACE,IAAT,CAAcC,MAAtC,CACA,MAAKC,QAAL,CAAc,CAAEH,eAAe,CAAEA,eAAnB,CAAd,EACD,CAHD,EAGGI,KAHH,CAGS,SAAAC,KAAK,CAAI,CAChBC,KAAK,CAAC,4CAAD,CAAL,CACD,CALD,EAMD,CApBiB,OA0BlBC,aA1BkB,CA0BF,SAACC,WAAD,CAAiB,CAC/B,GAAMC,CAAAA,qBAAqB,CAAGxB,KAAK,CAACyB,MAAN,iDAA6D,CACzFb,OAAO,CAAE,CACP,YAAa,UADN,CADgF,CAA7D,CAA9B,CAMAY,qBAAqB,CAACX,IAAtB,CAA2B,SAACC,QAAD,CAAc,CACvCO,KAAK,CAAC,iBAAD,CAAL,CACA,MAAKZ,qBAAL,GACD,CAHD,EAGGU,KAHH,CAGS,SAACC,KAAD,CAAW,CAClBC,KAAK,CAAC,gBAAD,CAAL,CACD,CALD,EAMD,CAvCiB,CAEhB,MAAKK,KAAL,CAAa,CACXX,eAAe,CAAE,EADN,CAAb,CAFgB,aAKjB,C,wFAiBkB,CACjB,KAAKN,qBAAL,GACD,C,uCAiBO,iBACN,MACE,+BACG,KAAKiB,KAAL,CAAWX,eAAX,CAA2BY,GAA3B,CAA+B,SAAAC,OAAO,QACrC,qBAAC,kBAAD,MACGA,OAAO,CAACtB,IADX,CAEE,4BAAM,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACgB,aAAL,CAAmBM,OAAO,CAACvB,EAA3B,CAAN,EAAf,MAFF,CADqC,EAAtC,CADH,CADF,CAUD,C,4BArD0BN,KAAK,CAAC8B,S,EAwDnC,cAAetB,CAAAA,cAAf","sourcesContent":["import React from 'react';\r\nimport axios from 'axios'\r\nimport ItemListaDeUsuario from './ItemListaDeUsuario';\r\nimport { render } from '@testing-library/react';\r\n\r\nconst baseUrl = \"https://us-central1-future4-users.cloudfunctions.net/api\"\r\n\r\nconst mockListaDeUsuarios = [{\r\n  id:'1',\r\n  name:\"Henrique\",\r\n},\r\n{\r\n  id:'2',\r\n  name:\"Joao\",\r\n}\r\n]\r\n\r\n\r\nclass ListaDeUsuario extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      listaDeUsuarios: [],\r\n    }\r\n  }\r\n\r\n  buscarListaDeUsuarios = () => {\r\n    const listaDeUsuariosPromessa = axios.get(`${baseUrl}/users/getAllUsers`, {\r\n      headers: {\r\n        'api-token': 'Henrique',\r\n      }\r\n    })\r\n\r\n    listaDeUsuariosPromessa.then(response => {\r\n      const listaDeUsuarios = response.data.result;\r\n      this.setState({ listaDeUsuarios: listaDeUsuarios })\r\n    }).catch(error => {\r\n      alert(\"Nao conseguimos pegar a lista de usuarios.\")\r\n    })\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.buscarListaDeUsuarios();\r\n  }\r\n\r\n  apagarUsuario = (idDoUsuario) => {\r\n    const promessaApagarUsuario = axios.delete(`&{baseUrl}/users/deleteUser?id=&{idDoUsuario}`,{\r\n      headers: {\r\n        'api-token': \"Henrique\",\r\n      }\r\n    })\r\n\r\n    promessaApagarUsuario.then((response) => {\r\n      alert(\"usuario apagado\");\r\n      this.buscarListaDeUsuarios();\r\n    }).catch((error) => {\r\n      alert(\"Erro ao apagar\");\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <ul>\r\n        {this.state.listaDeUsuarios.map(usuario => (\r\n          <ItemListaDeUsuario>\r\n            {usuario.name} \r\n            <span onClick={() => this.apagarUsuario(usuario.id)}>X</span>\r\n          </ItemListaDeUsuario>\r\n        ))}\r\n      </ul>\r\n    )\r\n  }  \r\n}\r\n\r\nexport default ListaDeUsuario;"]},"metadata":{},"sourceType":"module"}