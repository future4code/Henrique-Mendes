{"ast":null,"code":"var _jsxFileName = \"C:\\\\Git-F4\\\\Henrique-Mendes\\\\semana7\\\\aula25\\\\integracaodeapi\\\\src\\\\Components\\\\ListaDeUsuario.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport ItemListaDeUsuario from './ItemListaDeUsuario';\nimport { render } from '@testing-library/react';\nconst baseUrl = \"https://us-central1-future4-users.cloudfunctions.net/api\";\nconst mockListaDeUsuarios = [{\n  id: '1',\n  name: \"Henrique\"\n}, {\n  id: '2',\n  name: \"Joao\"\n}];\n\nclass ListaDeUsuario extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.apagarUsuario = idDoUsuario => {\n      const promessaApagarUsuario = axios.delete(`&{baseUrl}/users/deleteUser?id=&{idDoUsuario}`, {\n        headers: {\n          'api-token': \"Henrique\"\n        }\n      });\n      promessaApagarUsuario.then(response => {\n        alert(\"usuario apagado\");\n      }).catch(error => {\n        alert(\"Erro ao apagar\");\n      });\n    };\n\n    this.state = {\n      listaDeUsuarios: []\n    };\n  }\n\n  componentDidMount() {\n    const listaDeUsuariosPromessa = axios.get(`${baseUrl}/users/getAllUsers`, {\n      headers: {\n        'api-token': 'Henrique'\n      }\n    });\n    listaDeUsuariosPromessa.then(response => {\n      const listaDeUsuarios = response.data.result;\n      this.setState({\n        listaDeUsuarios: listaDeUsuarios\n      });\n    }).catch(error => {\n      alert(\"Nao conseguimos pegar a lista de usuarios.\");\n    });\n  }\n\n  render() {\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.state.listaDeUsuarios.map(usuario => React.createElement(ItemListaDeUsuario, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, usuario.name, React.createElement(\"span\", {\n      onClick: () => this.apagarUsuario(usuario.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"X\"))));\n  }\n\n}\n\nexport default ListaDeUsuario;","map":{"version":3,"sources":["C:/Git-F4/Henrique-Mendes/semana7/aula25/integracaodeapi/src/Components/ListaDeUsuario.js"],"names":["React","axios","ItemListaDeUsuario","render","baseUrl","mockListaDeUsuarios","id","name","ListaDeUsuario","Component","constructor","props","apagarUsuario","idDoUsuario","promessaApagarUsuario","delete","headers","then","response","alert","catch","error","state","listaDeUsuarios","componentDidMount","listaDeUsuariosPromessa","get","data","result","setState","map","usuario"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,SAASC,MAAT,QAAuB,wBAAvB;AAEA,MAAMC,OAAO,GAAG,0DAAhB;AAEA,MAAMC,mBAAmB,GAAG,CAAC;AAC3BC,EAAAA,EAAE,EAAC,GADwB;AAE3BC,EAAAA,IAAI,EAAC;AAFsB,CAAD,EAI5B;AACED,EAAAA,EAAE,EAAC,GADL;AAEEC,EAAAA,IAAI,EAAC;AAFP,CAJ4B,CAA5B;;AAWA,MAAMC,cAAN,SAA6BR,KAAK,CAACS,SAAnC,CAA6C;AAC3CC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;;AADgB,SAsBlBC,aAtBkB,GAsBDC,WAAD,IAAiB;AAC/B,YAAMC,qBAAqB,GAAGb,KAAK,CAACc,MAAN,CAAc,+CAAd,EAA6D;AACzFC,QAAAA,OAAO,EAAE;AACP,uBAAa;AADN;AADgF,OAA7D,CAA9B;AAMAF,MAAAA,qBAAqB,CAACG,IAAtB,CAA4BC,QAAD,IAAc;AACvCC,QAAAA,KAAK,CAAC,iBAAD,CAAL;AACD,OAFD,EAEGC,KAFH,CAEUC,KAAD,IAAW;AAClBF,QAAAA,KAAK,CAAC,gBAAD,CAAL;AACD,OAJD;AAKD,KAlCiB;;AAEhB,SAAKG,KAAL,GAAa;AACXC,MAAAA,eAAe,EAAE;AADN,KAAb;AAGD;;AAEDC,EAAAA,iBAAiB,GAAE;AACjB,UAAMC,uBAAuB,GAAGxB,KAAK,CAACyB,GAAN,CAAW,GAAEtB,OAAQ,oBAArB,EAA0C;AACxEY,MAAAA,OAAO,EAAE;AACP,qBAAa;AADN;AAD+D,KAA1C,CAAhC;AAMAS,IAAAA,uBAAuB,CAACR,IAAxB,CAA6BC,QAAQ,IAAI;AACvC,YAAMK,eAAe,GAAGL,QAAQ,CAACS,IAAT,CAAcC,MAAtC;AACA,WAAKC,QAAL,CAAc;AAAEN,QAAAA,eAAe,EAAEA;AAAnB,OAAd;AACD,KAHD,EAGGH,KAHH,CAGSC,KAAK,IAAI;AAChBF,MAAAA,KAAK,CAAC,4CAAD,CAAL;AACD,KALD;AAMD;;AAgBDhB,EAAAA,MAAM,GAAE;AACN,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKmB,KAAL,CAAWC,eAAX,CAA2BO,GAA3B,CAA+BC,OAAO,IACrC,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,OAAO,CAACxB,IADX,EAEE;AAAM,MAAA,OAAO,EAAE,MAAM,KAAKK,aAAL,CAAmBmB,OAAO,CAACzB,EAA3B,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,CADD,CADH,CADF;AAUD;;AAhD0C;;AAmD7C,eAAeE,cAAf","sourcesContent":["import React from 'react';\r\nimport axios from 'axios'\r\nimport ItemListaDeUsuario from './ItemListaDeUsuario';\r\nimport { render } from '@testing-library/react';\r\n\r\nconst baseUrl = \"https://us-central1-future4-users.cloudfunctions.net/api\"\r\n\r\nconst mockListaDeUsuarios = [{\r\n  id:'1',\r\n  name:\"Henrique\",\r\n},\r\n{\r\n  id:'2',\r\n  name:\"Joao\",\r\n}\r\n]\r\n\r\n\r\nclass ListaDeUsuario extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      listaDeUsuarios: [],\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    const listaDeUsuariosPromessa = axios.get(`${baseUrl}/users/getAllUsers`, {\r\n      headers: {\r\n        'api-token': 'Henrique',\r\n      }\r\n    })\r\n\r\n    listaDeUsuariosPromessa.then(response => {\r\n      const listaDeUsuarios = response.data.result;\r\n      this.setState({ listaDeUsuarios: listaDeUsuarios })\r\n    }).catch(error => {\r\n      alert(\"Nao conseguimos pegar a lista de usuarios.\")\r\n    })\r\n  }\r\n\r\n  apagarUsuario = (idDoUsuario) => {\r\n    const promessaApagarUsuario = axios.delete(`&{baseUrl}/users/deleteUser?id=&{idDoUsuario}`,{\r\n      headers: {\r\n        'api-token': \"Henrique\",\r\n      }\r\n    })\r\n\r\n    promessaApagarUsuario.then((response) => {\r\n      alert(\"usuario apagado\");\r\n    }).catch((error) => {\r\n      alert(\"Erro ao apagar\");\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <ul>\r\n        {this.state.listaDeUsuarios.map(usuario => (\r\n          <ItemListaDeUsuario>\r\n            {usuario.name} \r\n            <span onClick={() => this.apagarUsuario(usuario.id)}>X</span>\r\n          </ItemListaDeUsuario>\r\n        ))}\r\n      </ul>\r\n    )\r\n  }  \r\n}\r\n\r\nexport default ListaDeUsuario;"]},"metadata":{},"sourceType":"module"}